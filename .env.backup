# ============================================================================
# SUMMARIZER API - Environment Configuration
# ============================================================================
# Copy this file to .env and update values for your environment

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database URL
DATABASE_URL=postgresql://user:password@localhost:5432/summarizer

# Database components (for Docker Compose)
POSTGRES_DB=summarizer
POSTGRES_USER=user
POSTGRES_PASSWORD=password

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

# Redis URL for caching and job queue
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# OLLAMA LLM CONFIGURATION
# ============================================================================

# Ollama API base URL
OLLAMA_BASE_URL=http://localhost:11434

# Default model for summarization
OLLAMA_MODEL=gemma3:1b

# Ollama timeout settings (in seconds)
OLLAMA_TIMEOUT_CONNECT=30.0
OLLAMA_TIMEOUT_READ=300.0
OLLAMA_TIMEOUT_WRITE=30.0
OLLAMA_TIMEOUT_POOL=30.0

# Ollama retry settings
OLLAMA_MAX_RETRIES=2

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment mode
ENVIRONMENT=development

# Debug mode
DEBUG=true

# Application host and port
HOST=0.0.0.0
PORT=8000

# API version prefix
API_V1_PREFIX=/api/v1

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/summarizer-api.log

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Secret key for session management
SECRET_KEY=your-secret-key-here-change-in-production

# Allowed hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# CORS origins (comma-separated URLs or * for all)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================================================
# CONTENT EXTRACTION SETTINGS
# ============================================================================

# Maximum content size to download (bytes)
MAX_CONTENT_SIZE=10485760

# Request timeout for content fetching (seconds)
CONTENT_FETCH_TIMEOUT=30

# Connection timeout (seconds)  
CONTENT_CONNECT_TIMEOUT=10

# Maximum redirects to follow
MAX_REDIRECTS=5

# Maximum retries for failed requests
MAX_RETRIES=3

# ============================================================================
# TASK PROCESSING SETTINGS
# ============================================================================

# Default RQ queue name
QUEUE_NAME=default

# Worker timeout (seconds)
WORKER_TIMEOUT=300

# Maximum job retries
MAX_JOB_RETRIES=3

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Enable hot reload for development
RELOAD=true

# Enable auto-generation of OpenAPI docs
ENABLE_DOCS=true

# OpenAPI docs URL
DOCS_URL=/docs

# ReDoc URL
REDOC_URL=/redoc

# ============================================================================
# TESTING CONFIGURATION
# ============================================================================

# Test database URL (used by pytest)
TEST_DATABASE_URL=sqlite:///./test.db

# Test Redis URL
TEST_REDIS_URL=redis://localhost:6379/1

# Test mode flag
TESTING=false

# ============================================================================
# PRODUCTION NOTES
# ============================================================================

# When deploying to production:
# 1. Generate secure secret key: SECRET_KEY=$(openssl rand -hex 32)
# 2. Set ENVIRONMENT=production and DEBUG=false
# 3. Configure proper database URLs with connection pooling
# 4. Set appropriate CORS_ORIGINS for your domain
# 5. Adjust resource limits and timeouts as needed
# CORS Settings
ALLOWED_HOSTS=["http://localhost:3000","http://localhost:8000"]
